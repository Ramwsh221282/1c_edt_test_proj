// @strict-types


Процедура ПередЗаписью(Отказ)
	Спред = РасчитатьСпред();
	Код = МодульПримитивовКлиентСервер.СгенерироватьGuid();				
КонецПроцедуры


// Расчитать спред.
// 
// Возвращаемое значение:
//  Число - Расчитать спред
Функция РасчитатьСпред()
	Спред = ЦенаПродажи - ЦенаПокупки;
	Если Спред <= 0 Тогда
		ТекстОшибки = СтрШаблон(
		"Невозможно создать товар.
		|Спред не должен быть отрицательным.");
		ВызватьИсключение ТекстОшибки;		
	КонецЕсли;
	Возврат Спред;
КонецФункции
