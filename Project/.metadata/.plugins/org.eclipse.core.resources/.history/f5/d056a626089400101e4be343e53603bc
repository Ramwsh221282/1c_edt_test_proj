// @strict-types

#Область СоздатьПустойСкладUseCase

// Создать пустой склад клиент.
// 
// Параметры:
//  НаименованиеСклада - Строка
//  АдресСклада - Строка
// 
// Возвращаемое значение:
//  Структура - Создать пустой склад клиент:
// * СкладСсылка - СправочникСсылка.Склады - 
Функция СоздатьПустойСкладКлиент(НаименованиеСклада, АдресСклада) Экспорт
	Запрос = ЗапросСоздатьПустойСклад(НаименованиеСклада, АдресСклада);
	Ответ = МодульСкладыВызовСервера.СоздатьПустойСкладСервер(Запрос);
	Возврат Ответ;
КонецФункции

// Запрос создать пустой склад.
// 
// Параметры:
//  НаименованиеСклада - Строка
//  АдресСклада - Строка
// 
// Возвращаемое значение:
//  Структура - Запрос создать пустой склад:
// * НаименованиеСклада - Строка
// * АдресСклада - Строка
Функция ЗапросСоздатьПустойСклад(НаименованиеСклада, АдресСклада)
	Запрос = Новый Структура;
	Запрос.Вставить("НаименованиеСклада", НаименованиеСклада);
	Запрос.Вставить("АдресСклада", АдресСклада);
	Возврат Запрос;
КонецФункции

#КонецОбласти

#Область СохранитьТоварыСкладаUseCase

// Запрос создать сохранить товары склада.
// 
// Параметры:
//  СсылкаСклада - СправочникСсылка.Склады
//  СписокТоваров - ДанныеФормыКоллекция
// 
// Возвращаемое значение:
//  Структура:
//  * СсылкаСклада - СправочникСсылка.Склады
//  * СписокТоваров - Массив из Структура:
Функция ЗапросСоздатьСохранитьТоварыСклада(СсылкаСклада, СписокТоваров)
	Запрос = Новый Структура;	
	МассивТоваров = Новый Массив;	
	Для Каждого СтрокаТовара Из СписокТоваров Цикл
		ТоварСтруктура = Новый Структура;
		ТоварСтруктура.Вставить("СсылкаТовара", СтрокаТовара.Товар);		
		ТоварСтруктура.Вставить("ЕдиницаИзмерения", СтрокаТовара.ЕдиницаИзмерения);
		ТоварСтруктура.Вставить("ЦенаПокупки", СтрокаТовара.ЦенаПокупки);
		ТоварСтруктура.Вставить("ЦенаПродажи", СтрокаТовара.ЦенаПродажи);
		ТоварСтруктура.Вставить("Спред", СтрокаТовара.Спред);
		ТоварСтруктура.Вставить("Количество", СтрокаТовара.Количество);
		МассивТоваров.Добавить(ТоварСтруктура);		
	КонецЦикла;	
	Запрос.Вставить("СсылкаСклада", СсылкаСклада);
	Запрос.Вставить("СписокТоваров", МассивТоваров);
	Возврат Запрос;	
Конецфункции

#КонецОбласти